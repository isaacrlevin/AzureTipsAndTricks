(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[200],{

/***/ "./blog/tip277.md":
/*!************************!*\
  !*** ./blog/tip277.md ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _tip277_md_vue_type_template_id_c879ab66___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tip277.md?vue&type=template&id=c879ab66& */ "./blog/tip277.md?vue&type=template&id=c879ab66&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");

var script = {}


/* normalize component */

var component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_1__["default"])(
  script,
  _tip277_md_vue_type_template_id_c879ab66___WEBPACK_IMPORTED_MODULE_0__["render"],
  _tip277_md_vue_type_template_id_c879ab66___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null
  
)

/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ "./blog/tip277.md?vue&type=template&id=c879ab66&":
/*!*******************************************************!*\
  !*** ./blog/tip277.md?vue&type=template&id=c879ab66& ***!
  \*******************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_vuepress_core_node_modules_cache_vuepress_cacheIdentifier_671ceca3_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_ref_1_1_node_modules_vuepress_markdown_loader_index_js_ref_1_2_tip277_md_vue_type_template_id_c879ab66___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/@vuepress/core/node_modules/.cache/vuepress","cacheIdentifier":"671ceca3-vue-loader-template"}!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib??ref--1-1!../node_modules/@vuepress/markdown-loader??ref--1-2!./tip277.md?vue&type=template&id=c879ab66& */ "./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/@vuepress/core/node_modules/.cache/vuepress\",\"cacheIdentifier\":\"671ceca3-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/@vuepress/markdown-loader/index.js?!./blog/tip277.md?vue&type=template&id=c879ab66&");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_vuepress_core_node_modules_cache_vuepress_cacheIdentifier_671ceca3_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_ref_1_1_node_modules_vuepress_markdown_loader_index_js_ref_1_2_tip277_md_vue_type_template_id_c879ab66___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_vuepress_core_node_modules_cache_vuepress_cacheIdentifier_671ceca3_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_ref_1_1_node_modules_vuepress_markdown_loader_index_js_ref_1_2_tip277_md_vue_type_template_id_c879ab66___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });



/***/ }),

/***/ "./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/@vuepress/core/node_modules/.cache/vuepress\",\"cacheIdentifier\":\"671ceca3-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/@vuepress/markdown-loader/index.js?!./blog/tip277.md?vue&type=template&id=c879ab66&":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/@vuepress/core/node_modules/.cache/vuepress","cacheIdentifier":"671ceca3-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??ref--1-1!./node_modules/@vuepress/markdown-loader??ref--1-2!./blog/tip277.md?vue&type=template&id=c879ab66& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ContentSlotsDistributor',{attrs:{"slot-key":_vm.$parent.slotKey}},[_c('div',{staticClass:"custom-block tip"},[_c('p',{staticClass:"custom-block-title"},[_vm._v("TIP")]),_vm._v(" "),_c('p',[_vm._v("ðŸ”¥ Make sure you "),_c('a',{attrs:{"href":"http://azuredev.tips?WT.mc_id=azure-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("star the repo"),_c('OutboundLink')],1),_vm._v(" to keep up to date with new tips and tricks.")]),_vm._v(" "),_c('p',[_vm._v("ðŸ’¡ Learn more : "),_c('a',{attrs:{"href":"https://keda.sh?WT.mc_id=other-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Kubernetes Event-driven Autoscaling (KEDA)"),_c('OutboundLink')],1),_vm._v(".")]),_vm._v(" "),_c('p',[_vm._v("ðŸ“º Watch the video : "),_c('a',{attrs:{"href":"https://www.youtube.com/watch?v=wSv67WeNqdQ&list=PLLasX02E8BPCNCK8Thcxu-Y-XcBUbhFWC&index=15&?WT.mc_id=youtube-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Azure Functions on Kubernetes with KEDA"),_c('OutboundLink')],1),_vm._v(".")])]),_vm._v(" "),_c('h3',{attrs:{"id":"azure-functions-on-kubernetes-with-keda-part-1-of-2"}},[_c('a',{staticClass:"header-anchor",attrs:{"href":"#azure-functions-on-kubernetes-with-keda-part-1-of-2"}},[_vm._v("#")]),_vm._v(" Azure Functions on Kubernetes with KEDA Part 1 of 2")]),_vm._v(" "),_c('h4',{attrs:{"id":"azure-functions-running-in-kubernetes"}},[_c('a',{staticClass:"header-anchor",attrs:{"href":"#azure-functions-running-in-kubernetes"}},[_vm._v("#")]),_vm._v(" Azure Functions Running in Kubernetes")]),_vm._v(" "),_c('p',[_c('a',{attrs:{"href":"https://azure.microsoft.com/services/functions?WT.mc_id=other-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Azure Functions"),_c('OutboundLink')],1),_vm._v(" are great for running tasks on demand, like processing queue messages or resizing images. And Azure Functions can run anywhere. In Azure in a "),_c('a',{attrs:{"href":"https://docs.microsoft.com/azure/azure-functions/functions-scale#consumption-plan?WT.mc_id=azure-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("consumption plan"),_c('OutboundLink')],1),_vm._v(" or "),_c('a',{attrs:{"href":"https://docs.microsoft.com/azure/azure-functions/functions-scale#app-service-plan?WT.mc_id=azure-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("App Service Plan"),_c('OutboundLink')],1),_vm._v(". Locally, using the "),_c('a',{attrs:{"href":"https://docs.microsoft.com/azure/azure-functions/functions-runtime-overview","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Azure Functions runtime"),_c('OutboundLink')],1),_vm._v(". And even in containers, also using the Azure Functions runtime.")]),_vm._v(" "),_c('p',[_vm._v("Running Azure Functions in containers can be very useful when you want control over your infrastructure. For instance, you can run an Azure Function in a container in "),_c('a',{attrs:{"href":"https://azure.microsoft.com/services/kubernetes-service?WT.mc_id=other-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Azure Kubernetes Service"),_c('OutboundLink')],1),_vm._v(". But how do you get it to scale on demand, just like a Function that runs on a consumption plan? Kubernetes-based Functions provides the Functions runtime in a "),_c('a',{attrs:{"href":"https://docs.microsoft.com/azure/azure-functions/functions-create-function-linux-custom-image?WT.mc_id=azure-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Docker container"),_c('OutboundLink')],1),_vm._v(" with event-driven scaling through "),_c('a',{attrs:{"href":"https://keda.sh?WT.mc_id=other-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("KEDA"),_c('OutboundLink')],1),_vm._v(". KEDA can scale in to 0 instances (when no events are occurring) and out to "),_c('em',[_vm._v("n")]),_vm._v(" instances. It does this by exposing custom metrics for the Kubernetes autoscaler ("),_c('a',{attrs:{"href":"https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale-walkthrough?WT.mc_id=other-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Horizontal Pod Autoscaler"),_c('OutboundLink')],1),_vm._v("). Using Function containers with KEDA makes it possible to replicate serverless Function capabilities in any Kubernetes cluster.")]),_vm._v(" "),_c('p',[_vm._v("In this series of posts, we'll create an Azure Function that is triggered by an "),_c('a',{attrs:{"href":"https://azure.microsoft.com/services/storage/queues?WT.mc_id=other-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Azure Storage Queue"),_c('OutboundLink')],1),_vm._v(" and runs in Azure Kubernetes Service. And we'll make the Function scale by using KEDA.")]),_vm._v(" "),_c('p',[_vm._v("This series contains two posts:")]),_vm._v(" "),_c('ol',[_c('li',[_vm._v("Azure Functions on Kubernetes with KEDA Part 1 of 2 (this post) - Creating and building a containerized Azure Function")]),_vm._v(" "),_c('li',[_vm._v("Azure Functions on Kubernetes with KEDA Part 1 of 2 - Running the Azure Function in AKS with KEDA")])]),_vm._v(" "),_c('h4',{attrs:{"id":"prerequisites"}},[_c('a',{staticClass:"header-anchor",attrs:{"href":"#prerequisites"}},[_vm._v("#")]),_vm._v(" Prerequisites")]),_vm._v(" "),_c('p',[_vm._v("If you want to follow along, you'll need the following:")]),_vm._v(" "),_c('ul',[_c('li',[_vm._v("An Azure subscription (If you don't have an Azure subscription, create a "),_c('a',{attrs:{"href":"https://azure.microsoft.com/free/?WT.mc_id=azure-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("free account"),_c('OutboundLink')],1),_vm._v(" before you begin)")]),_vm._v(" "),_c('li',[_vm._v("You'll need the "),_c('a',{attrs:{"href":"https://visualstudio.microsoft.com/downloads/?WT.mc_id=microsoft-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("latest version of Visual Studio"),_c('OutboundLink')],1),_vm._v(" with the Azure workload installed. Alternatively, you can use "),_c('a',{attrs:{"href":"https://code.visualstudio.com?WT.mc_id=other-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Visual Studio Code"),_c('OutboundLink')],1),_vm._v(" with the "),_c('a',{attrs:{"href":"https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurefunctions&WT.mc_id=other-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Azure Function extension"),_c('OutboundLink')],1),_vm._v(" installed")]),_vm._v(" "),_c('li',[_vm._v("You need Docker on your PC to develop container-based applications. Download it "),_c('a',{attrs:{"href":"https://store.docker.com/editions/community/docker-ce-desktop-windows?WT.mc_id=other-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("here"),_c('OutboundLink')],1)]),_vm._v(" "),_c('li',[_vm._v("The "),_c('a',{attrs:{"href":"https://docs.microsoft.com/cli/azure/?WT.mc_id=docs-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Azure CLI"),_c('OutboundLink')],1),_vm._v(". You can "),_c('a',{attrs:{"href":"https://docs.microsoft.com/cli/azure/install-azure-cli?WT.mc_id=docs-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("download it for Windows, Linux or Mac"),_c('OutboundLink')],1)]),_vm._v(" "),_c('li',[_vm._v("Node.js, which includes npm that we need to install the "),_c('a',{attrs:{"href":"https://docs.microsoft.com/azure/azure-functions/functions-run-local?WT.mc_id=docs-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Azure Functions Core Tools"),_c('OutboundLink')],1),_vm._v(". You can "),_c('a',{attrs:{"href":"https://docs.npmjs.com/downloading-and-installing-node-js-and-npm?WT.mc_id=other-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("download Node.js here"),_c('OutboundLink')],1)])]),_vm._v(" "),_c('h4',{attrs:{"id":"creating-a-containerized-azure-function-with-an-azure-storage-queue-trigger"}},[_c('a',{staticClass:"header-anchor",attrs:{"href":"#creating-a-containerized-azure-function-with-an-azure-storage-queue-trigger"}},[_vm._v("#")]),_vm._v(" Creating a containerized Azure Function with an Azure Storage Queue Trigger")]),_vm._v(" "),_c('p',[_vm._v("Before we create an Azure Function that gets triggered by a message on an Azure Storage Queue, we need to create that queue. Let's do it:")]),_vm._v(" "),_c('ol',[_c('li',[_vm._v("Go to the "),_c('a',{attrs:{"href":"https://portal.azure.com/?WT.mc_id=azure-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Azure portal"),_c('OutboundLink')],1)]),_vm._v(" "),_c('li',[_vm._v("Click the "),_c('strong',[_vm._v("Create a resource")]),_vm._v(" button (the plus-sign in the top left corner)")]),_vm._v(" "),_c('li',[_vm._v("Search for "),_c('strong',[_vm._v("Storage")]),_vm._v(" and click on the result to start creating an Azure Storage account\na. This brings you to the create blade of Azure Storage\nb. Select a "),_c('strong',[_vm._v("Resource Group")]),_vm._v(" (or create a new one)\nc. Fill in a "),_c('strong',[_vm._v("name")]),_vm._v(" for the account in the "),_c('strong',[_vm._v("Storage account name")]),_vm._v(" field\nd. Select a "),_c('strong',[_vm._v("Location")]),_vm._v("\ne. Leave the rest of the settings as they are and click "),_c('strong',[_vm._v("Review + create")]),_vm._v(" and "),_c('strong',[_vm._v("Create")]),_vm._v(" after that")])]),_vm._v(" "),_c('img',{attrs:{"src":_vm.$withBase('/files/63createstorage.png')}}),_vm._v(" "),_c('p',[_vm._v("(Create Azure Storage Account in the Azure portal)")]),_vm._v(" "),_c('p',[_vm._v("Now that we have a storage account, let's create a queue in it:")]),_vm._v(" "),_c('ol',[_c('li',[_vm._v("In the Azure portal, navigate to the storage account")]),_vm._v(" "),_c('li',[_vm._v("Click on "),_c('strong',[_vm._v("Queues")]),_vm._v(" to access the Azure Storage Queues feature")]),_vm._v(" "),_c('li',[_vm._v("Click "),_c('strong',[_vm._v("Add queue")])]),_vm._v(" "),_c('li',[_vm._v("Fill in a "),_c('strong',[_vm._v("name")]),_vm._v(" for the queue")]),_vm._v(" "),_c('li',[_vm._v("Click on "),_c('strong',[_vm._v("OK")]),_vm._v(" to create the queue")])]),_vm._v(" "),_c('img',{attrs:{"src":_vm.$withBase('/files/63createqueue.png')}}),_vm._v(" "),_c('p',[_vm._v("(Create Azure Storage Queue in the Azure portal)")]),_vm._v(" "),_c('p',[_vm._v("Okay. Now that we have a queue in Azure, we can create the Azure Function. We'll do that with the Azure CLI:")]),_vm._v(" "),_c('ol',[_c('li',[_vm._v("Open the Azure CLI on your local machine")]),_vm._v(" "),_c('li',[_vm._v("We need to install the "),_c('a',{attrs:{"href":"https://docs.microsoft.com/azure/azure-functions/functions-run-local?WT.mc_id=azure-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Azure Functions Core Tools"),_c('OutboundLink')],1),_vm._v(" to be able to create functions and deploy them to AKS. You can install the tools with this command:")])]),_vm._v(" "),_c('div',{staticClass:"language- line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-text"}},[_c('code',[_vm._v("npm install -g azure-functions-core-tools@3\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br')])]),_c('ol',{attrs:{"start":"3"}},[_c('li',[_vm._v("Once the tools are installed, we'll create a directory that we will use to create the Azure Function in:")])]),_vm._v(" "),_c('div',{staticClass:"language- line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-text"}},[_c('code',[_vm._v("mkdir myfunction\ncd myfunction\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br')])]),_c('ol',{attrs:{"start":"4"}},[_c('li',[_vm._v("Alright. The following command creates a containerized Azure Function app in the folder that we've just created, using the Functions Core Tools:")])]),_vm._v(" "),_c('div',{staticClass:"language- line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-text"}},[_c('code',[_vm._v("func init --docker\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br')])]),_c('ol',{attrs:{"start":"5"}},[_c('li',[_vm._v("The process will ask you to select the worker runtime. Select "),_c('strong',[_vm._v("dotnet")]),_vm._v(". This creates the Function app with .NET")]),_vm._v(" "),_c('li',[_vm._v("If you run "),_c('strong',[_vm._v("dir")]),_vm._v(", you'll see that we now have Azure Function files and a Docker file for the container")]),_vm._v(" "),_c('li',[_vm._v("Next, we'll create a new Function in the Function App that we've just created (Function Apps contain one or more Functions). We can create a new Function with the command:")])]),_vm._v(" "),_c('div',{staticClass:"language- line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-text"}},[_c('code',[_vm._v("func new\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br')])]),_c('ol',{attrs:{"start":"8"}},[_c('li',[_vm._v("You'll be asked what type trigger the Function should have. Select the "),_c('strong',[_vm._v("QueueTrigger")])]),_vm._v(" "),_c('li',[_vm._v("Next, type in a "),_c('strong',[_vm._v("name")]),_vm._v(" for the Function. I'll use "),_c('strong',[_vm._v("QueueFunction")]),_vm._v(". And that's it, the Function is created")])]),_vm._v(" "),_c('p',[_vm._v("Now that we have a containerized Function App with a QueueTrigger Function in it, let's take a look at it in Visual Studio and add a connection string to the Azure Storage Queue:")]),_vm._v(" "),_c('ol',[_c('li',[_vm._v("Open the "),_c('strong',[_vm._v("myfunction")]),_vm._v(" folder that contains the Function App and Function")]),_vm._v(" "),_c('li',[_vm._v("In the folder, you'll find a "),_c('strong',[_vm._v("Visual Studio project file")]),_vm._v(". Open it with Visual Studio (or "),_c('a',{attrs:{"href":"https://code.visualstudio.com?WT.mc_id=other-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("VS Code"),_c('OutboundLink')],1),_vm._v(")")])]),_vm._v(" "),_c('img',{attrs:{"src":_vm.$withBase('/files/63function.png')}}),_vm._v(" "),_c('p',[_vm._v("(Azure Function in Visual Studio)")]),_vm._v(" "),_c('ol',{attrs:{"start":"3"}},[_c('li',[_vm._v("In Visual Studio, you can see the Docker file of the Function App. This uses the Azure Functions Runtime to run the Function. There is also a "),_c('strong',[_vm._v("local.settings.json")]),_vm._v(" file. Open it")]),_vm._v(" "),_c('li',[_vm._v("Create a new setting in the "),_c('strong',[_vm._v("local.settings.json")]),_vm._v(" file called "),_c('strong',[_vm._v("storageconnection")]),_vm._v(". Make the value of this setting the "),_c('strong',[_vm._v("connection string to Azure Storage")]),_vm._v(". You can find this in the Azure Storage Account in the Azure portal, under the Access Keys menu")]),_vm._v(" "),_c('li',[_vm._v("Go to the function code file. In my case, this is "),_c('strong',[_vm._v("QueueFunction.cs")]),_vm._v(". Here, change the values in the QueueTrigger attribute\na. Replace the "),_c('strong',[_vm._v("\"myqueue-items\"")]),_vm._v(" string by the "),_c('strong',[_vm._v("name of the queue")]),_vm._v(" that we've created in Azure Storage\nb. Put in the name "),_c('strong',[_vm._v("\"storageconnection\"")]),_vm._v(" for the Connection parameter")])]),_vm._v(" "),_c('p',[_vm._v("That's it. The Function is now connected to the Azure Storage Queue. Let's compile the function using the Azure CLI:")]),_vm._v(" "),_c('ol',[_c('li',[_vm._v("Open the Azure CLI")]),_vm._v(" "),_c('li',[_vm._v("Make sure that you are in the "),_c('strong',[_vm._v("myfunction")]),_vm._v(" folder where the Function App is")]),_vm._v(" "),_c('li',[_vm._v("Also make sure that you have connected your Docker account to your local machine by using:")])]),_vm._v(" "),_c('div',{staticClass:"language- line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-text"}},[_c('code',[_vm._v("docker login\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br')])]),_c('ol',{attrs:{"start":"3"}},[_c('li',[_vm._v("Now use the following command to build the container with the Function App in it. The myfunctionapp:v1 represents the name of the container and the tag (v1):")])]),_vm._v(" "),_c('div',{staticClass:"language- line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-text"}},[_c('code',[_vm._v("docker build -t myfunctionapp:v1\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br')])]),_c('p',[_vm._v("The Function App should build and the container should be created now. With this last step, we've made sure that the Function compiles into a container.")]),_vm._v(" "),_c('h4',{attrs:{"id":"conclusion"}},[_c('a',{staticClass:"header-anchor",attrs:{"href":"#conclusion"}},[_vm._v("#")]),_vm._v(" Conclusion")]),_vm._v(" "),_c('p',[_vm._v("In this post, we've created a containerized "),_c('a',{attrs:{"href":"https://azure.microsoft.com/services/functions?WT.mc_id=docs-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Azure Function"),_c('OutboundLink')],1),_vm._v(" App with a queue-based trigger in it, on our local machine using the "),_c('a',{attrs:{"href":"https://docs.microsoft.com/cli/azure/?WT.mc_id=docs-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Azure CLI"),_c('OutboundLink')],1),_vm._v(" and the "),_c('a',{attrs:{"href":"https://docs.microsoft.com/azure/azure-functions/functions-run-local?WT.mc_id=azure-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Azure Functions Core Tools"),_c('OutboundLink')],1),_vm._v(". In the next post, we'll deploy the container with the Azure Function in it to "),_c('a',{attrs:{"href":"https://azure.microsoft.com/services/kubernetes-service?WT.mc_id=docs-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Azure Kubernetes Service"),_c('OutboundLink')],1),_vm._v(" and run it at scale with "),_c('a',{attrs:{"href":"https://keda.sh?WT.mc_id=other-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("KEDA"),_c('OutboundLink')],1),_vm._v(".")])])}
var staticRenderFns = []



/***/ })

}]);
//# sourceMappingURL=200.6fc81bcb.js.map