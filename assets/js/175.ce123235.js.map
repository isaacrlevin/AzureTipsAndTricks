{"version":3,"sources":["webpack:///./blog/tip254.md","webpack:///./blog/tip254.md?2da0","webpack:///./blog/tip254.md?14ac"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAoF;AACpF;;;AAGA;AACuF;AACvF,gBAAgB,2GAAU;AAC1B;AACA,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,gF;;;;;;;;;;;;ACjBf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA,0BAA0B,aAAa,0BAA0B,wBAAwB,qCAAqC,OAAO,gCAAgC,YAAY,+BAA+B,UAAU,iCAAiC,+GAA+G,OAAO,oFAAoF,6GAA6G,OAAO,wJAAwJ,2IAA2I,OAAO,oMAAoM,8IAA8I,OAAO,uEAAuE,UAAU,mCAAmC,0EAA0E,iHAAiH,OAAO,sEAAsE,UAAU,mCAAmC,yEAAyE,6TAA6T,OAAO,uHAAuH,wKAAwK,OAAO,wJAAwJ,oFAAoF,OAAO,iJAAiJ,4GAA4G,OAAO,gKAAgK,mSAAmS,OAAO,sBAAsB,UAAU,mCAAmC,yBAAyB,6PAA6P,OAAO,mIAAmI,2MAA2M,OAAO,gKAAgK,8GAA8G,OAAO,oEAAoE,UAAU,mCAAmC,uEAAuE,ibAAib,0CAA0C,YAAY,gBAAgB,yBAAyB,4IAA4I,mCAAmC,aAAa,0BAA0B,kSAAkS,OAAO,+CAA+C,qTAAqT,OAAO,2HAA2H,6qBAA6qB,OAAO,gDAAgD,oFAAoF,OAAO,aAAa,6iBAA6iB,OAAO,iDAAiD,2FAA2F,OAAO,aAAa,wjBAAwjB,OAAO,wDAAwD,yFAAyF,OAAO,cAAc,8cAA8c,OAAO,4CAA4C,oWAAoW,OAAO,mBAAmB,UAAU,mCAAmC,sBAAsB,oHAAoH,OAAO,wJAAwJ,kGAAkG,OAAO,iJAAiJ,6QAA6Q,OAAO,uKAAuK,4JAA4J,OAAO,kDAAkD,UAAU,mCAAmC,qDAAqD,8UAA8U,OAAO,4IAA4I,UAAU,aAAa,kIAAkI,QAAQ,kFAAkF;AAC1+V","file":"assets/js/175.ce123235.js","sourcesContent":["import { render, staticRenderFns } from \"./tip254.md?vue&type=template&id=e47e8d02&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/@vuepress/core/node_modules/.cache/vuepress\\\",\\\"cacheIdentifier\\\":\\\"671ceca3-vue-loader-template\\\"}!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??ref--1-1!../node_modules/@vuepress/markdown-loader/index.js??ref--1-2!./tip254.md?vue&type=template&id=e47e8d02&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ContentSlotsDistributor',{attrs:{\"slot-key\":_vm.$parent.slotKey}},[_c('div',{staticClass:\"custom-block tip\"},[_c('p',{staticClass:\"custom-block-title\"},[_vm._v(\"TIP\")]),_vm._v(\" \"),_c('p',[_vm._v(\"ðŸ”¥  The FREE Azure Developer Guide eBook is available \"),_c('a',{attrs:{\"href\":\"http://aka.ms/azuredevebook\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"here\"),_c('OutboundLink')],1),_vm._v(\".\")]),_vm._v(\" \"),_c('p',[_vm._v(\"ðŸ’¡ Learn more : \"),_c('a',{attrs:{\"href\":\"https://docs.microsoft.com/azure/frontdoor/waf-overview?WT.mc_id=docs-azuredevtips-azureappsdev\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Azure Front Door WAF overview\"),_c('OutboundLink')],1),_vm._v(\".\")]),_vm._v(\" \"),_c('p',[_vm._v(\"ðŸ“º Watch the video : \"),_c('a',{attrs:{\"href\":\"https://www.youtube.com/watch?v=CLOgyQFrrZY&list=PLLasX02E8BPCNCK8Thcxu-Y-XcBUbhFWC&index=4&t=0s?WT.mc_id=youtube-azuredevtips-azureappsdev\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"How to use WAF to protect your web applications with Azure Front Door\"),_c('OutboundLink')],1),_vm._v(\".\")])]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"use-waf-to-protect-your-web-applications-with-azure-front-door\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#use-waf-to-protect-your-web-applications-with-azure-front-door\"}},[_vm._v(\"#\")]),_vm._v(\" Use WAF to protect your web applications with Azure Front Door\")]),_vm._v(\" \"),_c('h4',{attrs:{\"id\":\"securing-your-application-with-a-web-application-firewall-waf\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#securing-your-application-with-a-web-application-firewall-waf\"}},[_vm._v(\"#\")]),_vm._v(\" Securing your application with a Web Application Firewall (WAF)\")]),_vm._v(\" \"),_c('p',[_vm._v(\"When you run an application on the web, it is going to be attacked. Your website will be attacked with SQL Injection attacks, Cross-site scripting attacks and every other attack in the \"),_c('a',{attrs:{\"href\":\"https://www.owasp.org/index.php/Category:OWASP_Top_Ten_Project\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"OWASP top 10\"),_c('OutboundLink')],1),_vm._v(\" and beyond.\\nYou need to protect your application from these attacks and you can do that with Azure \"),_c('a',{attrs:{\"href\":\"https://docs.microsoft.com/azure/frontdoor/waf-overview?WT.mc_id=docs-azuredevtips-azureappsdev\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Web Application Firewall\"),_c('OutboundLink')],1),_vm._v(\" and \"),_c('a',{attrs:{\"href\":\"https://azure.microsoft.com/services/frontdoor/?WT.mc_id=azure-azuredevtips-azureappsdev\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Azure Front Door\"),_c('OutboundLink')],1),_vm._v(\".\")]),_vm._v(\" \"),_c('p',[_vm._v(\"In \"),_c('a',{attrs:{\"href\":\"https://microsoft.github.io/AzureTipsAndTricks/blog/tip192.html?WT.mc_id=code-azuredevtips-azureappsdev\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Azure Tip 192\"),_c('OutboundLink')],1),_vm._v(\", you have learned how to make your website more available and performant with Azure Front Door. In this post, we'll add a Web Application Firewall to protect Azure Front Door and the websites that it serves.\")]),_vm._v(\" \"),_c('h4',{attrs:{\"id\":\"prerequisites\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#prerequisites\"}},[_vm._v(\"#\")]),_vm._v(\" Prerequisites\")]),_vm._v(\" \"),_c('p',[_vm._v(\"If you want to follow along, you'll need the following:\")]),_vm._v(\" \"),_c('ul',[_c('li',[_vm._v(\"An Azure subscription (If you don't have an Azure subscription, create a \"),_c('a',{attrs:{\"href\":\"https://azure.microsoft.com/free/?WT.mc_id=azure-azuredevtips-azureappsdev\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"free account\"),_c('OutboundLink')],1),_vm._v(\" before you begin)\")]),_vm._v(\" \"),_c('li',[_vm._v(\"An Azure Front Door that is configured to route traffic to web applications. Follow \"),_c('a',{attrs:{\"href\":\"https://microsoft.github.io/AzureTipsAndTricks/blog/tip192.html?WT.mc_id=code-azuredevtips-azureappsdev\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Azure Tips and Tricks 192\"),_c('OutboundLink')],1),_vm._v(\" to set it up\")])]),_vm._v(\" \"),_c('h4',{attrs:{\"id\":\"configure-waf-to-protect-applications-with-azure-front-door\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#configure-waf-to-protect-applications-with-azure-front-door\"}},[_vm._v(\"#\")]),_vm._v(\" Configure WAF to protect applications with Azure Front Door\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Before we create the Web Application Firewall (WAF), I want to show you what an attack could look like. Suppose that my website takes a querystring parameter and does something meaningful with it, like store it in the database. I could create an URL like this to inject a malicious script:\")]),_vm._v(\" \"),_c('div',{staticClass:\"language- line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-text\"}},[_c('code',[_vm._v(\"https://frontdoortipsandtricks.azurefd.net/?<script>alert('do something evil')</script> \\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br')])]),_c('p',[_vm._v(\"When I try this on the website that Front Door is serving, without the WAF, the request will go through to the server, which serves the webpage, like normal. Although now, the malicious script is stored in my database.\")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":_vm.$withBase('/files/46beforewaf.png')}}),_vm._v(\" \"),_c('p',[_vm._v(\"(Attack not blocked)\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Web Application Firewall (WAF) can protect your web application against attacks. Let's create one for our Azure Front Door to protect our web application.\")]),_vm._v(\" \"),_c('ol',[_c('li',[_c('p',[_vm._v(\"Go to the \"),_c('a',{attrs:{\"href\":\"https://portal.azure.com/?WT.mc_id=azure-azuredevtips-azureappsdev\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Azure portal\"),_c('OutboundLink')],1)])]),_vm._v(\" \"),_c('li',[_c('p',[_vm._v(\"Click the \"),_c('strong',[_vm._v(\"Create a resource\")]),_vm._v(\" button (the plus-sign in the top left corner)\")])]),_vm._v(\" \"),_c('li',[_c('p',[_vm._v(\"Search for \"),_c('strong',[_vm._v(\"Web Application Firewall\")]),_vm._v(\" and click on the result to start creating a Web Application Firewall.\")]),_vm._v(\" \"),_c('ol',[_c('li',[_vm._v(\"This brings you to the create wizard of Web Application Firewall\")]),_vm._v(\" \"),_c('li',[_vm._v(\"Select a \"),_c('strong',[_vm._v(\"Resource Group\")])]),_vm._v(\" \"),_c('li',[_vm._v(\"Fill in a \"),_c('strong',[_vm._v(\"Policy Name\")])])]),_vm._v(\" \"),_c('img',{attrs:{\"src\":_vm.$withBase('/files/46createwaf1.png')}}),_vm._v(\" \"),_c('p',[_vm._v(\"(Create a WAF policy Basics)\")]),_vm._v(\" \"),_c('ol',{attrs:{\"start\":\"4\"}},[_c('li',[_vm._v(\"Click \"),_c('strong',[_vm._v(\"Next: Policy settings\")])]),_vm._v(\" \"),_c('li',[_vm._v(\"Set the \"),_c('strong',[_vm._v(\"Mode\")]),_vm._v(\" to \"),_c('strong',[_vm._v(\"Prevention\")]),_vm._v(\". This will block attacks, rather than just detect and log them\")]),_vm._v(\" \"),_c('li',[_vm._v(\"Click \"),_c('strong',[_vm._v(\"Next: Managed rules\")])]),_vm._v(\" \"),_c('li',[_vm._v(\"Review the rules that are enabled by default. You can enable more, but you don't have to. \"),_c('strong',[_vm._v(\"Click Next: Custom rules\")])])]),_vm._v(\" \"),_c('img',{attrs:{\"src\":_vm.$withBase('/files/46selectrules.png')}}),_vm._v(\" \"),_c('p',[_vm._v(\"(Create a WAF policy Managed Rules)\")]),_vm._v(\" \"),_c('ol',{attrs:{\"start\":\"8\"}},[_c('li',[_vm._v(\"You can add your own rules to detect or prevent attacks. You can create custom rules to filter on IP addresses, block or allow requests from geographic regions, block or allow requests of certain sizes and verbs (such as GET, PUT, HEAD) and more. Don't add one at this time and click \"),_c('strong',[_vm._v(\"Next: Association\")])]),_vm._v(\" \"),_c('li',[_vm._v(\"Click \"),_c('strong',[_vm._v(\"Add frontend host\")])]),_vm._v(\" \"),_c('li',[_vm._v(\"Select the existing Azure Front Door and click \"),_c('strong',[_vm._v(\"Add\")])])]),_vm._v(\" \"),_c('img',{attrs:{\"src\":_vm.$withBase('/files/46associatefrontdoor.png')}}),_vm._v(\" \"),_c('p',[_vm._v(\"(Create a WAF policy Association)\")]),_vm._v(\" \"),_c('ol',{attrs:{\"start\":\"11\"}},[_c('li',[_vm._v(\"Click \"),_c('strong',[_vm._v(\"Review + create\")]),_vm._v(\" and \"),_c('strong',[_vm._v(\"Create\")]),_vm._v(\" after that. This will create the WAF and enable it for the Azure Front Door that we selected\")])])])]),_vm._v(\" \"),_c('p',[_vm._v(\"That's it! The web application is now protected by the Web Application Firewall. Try the URL with the malicious script again. The request will be blocked like in the image below.\")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":_vm.$withBase('/files/afterwaf.png')}}),_vm._v(\" \"),_c('p',[_vm._v(\"(Attack blocked by WAF)\")]),_vm._v(\" \"),_c('p',[_vm._v(\"If you look closely, you see that the title of the web page has changed into \"),_c('strong',[_vm._v(\"Microsoft\")]),_vm._v(\". The attack doesn't reach your web application. It is blocked at the edge of the Azure cloud, before it can do any harm.\")]),_vm._v(\" \"),_c('h4',{attrs:{\"id\":\"conclusion\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#conclusion\"}},[_vm._v(\"#\")]),_vm._v(\" Conclusion\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Protecting your web application with \"),_c('a',{attrs:{\"href\":\"https://docs.microsoft.com/azure/frontdoor/waf-overview?WT.mc_id=docs-azuredevtips-azureappsdev\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Azure Web Application Firewall\"),_c('OutboundLink')],1),_vm._v(\" in front of \"),_c('a',{attrs:{\"href\":\"https://azure.microsoft.com/services/frontdoor/?WT.mc_id=azure-azuredevtips-azureappsdev\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Azure Front Door\"),_c('OutboundLink')],1),_vm._v(\" is really powerful. Out-of-the-box, you are protected against hundreds of different common attacks. You can also enable rules to protect your application against bots. And you can also create your \"),_c('a',{attrs:{\"href\":\"https://docs.microsoft.com/azure/frontdoor/waf-front-door-custom-rules?WT.mc_id=docs-azuredevtips-azureappsdev\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"own, custom, protection rules\"),_c('OutboundLink')],1),_vm._v(\" ranging from IP filters to rate limits. Go check it out!\")]),_vm._v(\" \"),_c('h4',{attrs:{\"id\":\"bonus-live-streaming-software-development\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#bonus-live-streaming-software-development\"}},[_vm._v(\"#\")]),_vm._v(\" BONUS: Live streaming software development\")]),_vm._v(\" \"),_c('p',[_vm._v(\"On a side note - If you like Azure Tips and Tricks, then you might enjoy another project that I'm working on for live streaming. Check out my channel below and hit the follow button to know when I'm live.\")]),_vm._v(\" \"),_c('iframe',{attrs:{\"src\":\"https://player.twitch.tv/?channel=mbcrump\",\"frameborder\":\"0\",\"allowfullscreen\":\"true\",\"scrolling\":\"no\",\"height\":\"378\",\"width\":\"620\"}}),_c('a',{staticStyle:{\"padding\":\"2px 0px 4px\",\"display\":\"block\",\"width\":\"345px\",\"font-weight\":\"normal\",\"font-size\":\"10px\",\"text-decoration\":\"underline\"},attrs:{\"href\":\"https://www.twitch.tv/mbcrump?tt_content=text_link&tt_medium=live_embed\"}},[_vm._v(\"Watch live video from mbcrump on www.twitch.tv\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"sourceRoot":""}