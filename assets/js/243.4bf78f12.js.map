{"version":3,"sources":["webpack:///./blog/tip58.md","webpack:///./blog/tip58.md?0846","webpack:///./blog/tip58.md?7bfa"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAmF;AACnF;;;AAGA;AACuF;AACvF,gBAAgB,2GAAU;AAC1B;AACA,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,gF;;;;;;;;;;;;ACjBf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA,0BAA0B,aAAa,0BAA0B,wBAAwB,qCAAqC,OAAO,gCAAgC,YAAY,+BAA+B,UAAU,iCAAiC,yEAAyE,OAAO,6IAA6I,6FAA6F,OAAO,qEAAqE,UAAU,mCAAmC,wEAAwE,oJAAoJ,OAAO,yBAAyB,4GAA4G,OAAO,yBAAyB,0IAA0I,OAAO,yBAAyB,2GAA2G,OAAO,yBAAyB,kRAAkR,OAAO,yBAAyB,6cAA6c,OAAO,6CAA6C,kYAAkY,OAAO,oGAAoG,6NAA6N,OAAO,6CAA6C,mcAAmc,gDAAgD,YAAY,gBAAgB,2BAA2B,wBAAwB,gBAAgB,yBAAyB,gEAAgE,gBAAgB,6BAA6B,6CAA6C,gBAAgB,6BAA6B,gDAAgD,gBAAgB,yBAAyB,4CAA4C,gBAAgB,wCAAwC,mCAAmC,gBAAgB,6BAA6B,2BAA2B,gBAAgB,yBAAyB,gCAAgC,gBAAgB,6BAA6B,yCAAyC,gBAAgB,0BAA0B,6BAA6B,gBAAgB,6BAA6B,2BAA2B,gBAAgB,6BAA6B,gDAAgD,gBAAgB,6BAA6B,WAAW,yCAAyC,gBAAgB,yBAAyB,4CAA4C,gBAAgB,yBAAyB,yCAAyC,gBAAgB,mDAAmD,aAAa,gBAAgB,yBAAyB,gCAAgC,gBAAgB,6BAA6B,2BAA2B,gBAAgB,6BAA6B,yCAAyC,gBAAgB,6BAA6B,WAAW,4BAA4B,gBAAgB,wBAAwB,6CAA6C,gBAAgB,6BAA6B,uCAAuC,gBAAgB,wBAAwB,yDAAyD,gBAAgB,6BAA6B,WAAW,gBAAgB,gBAAgB,6BAA6B,WAAW,qCAAqC,gBAAgB,6BAA6B,WAAW,4CAA4C,mCAAmC,aAAa,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,wNAAwN,0CAA0C,YAAY,gBAAgB,yBAAyB,meAAme,mCAAmC,aAAa,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,6MAA6M,0CAA0C,YAAY,gBAAgB,yBAAyB,kXAAkX,2BAA2B,iRAAiR,mCAAmC,aAAa,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,qCAAqC,0BAA0B,qCAAqC,0BAA0B,qCAAqC,0BAA0B,qCAAqC,0BAA0B,qCAAqC,0BAA0B,qCAAqC,0BAA0B,qCAAqC,0BAA0B,qCAAqC,0BAA0B,qCAAqC,0BAA0B,qCAAqC,0BAA0B,qCAAqC,0BAA0B,mLAAmL,0CAA0C,YAAY,gBAAgB,yBAAyB,kkBAAkkB,mCAAmC,aAAa,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,qCAAqC,0BAA0B,6NAA6N,OAAO,6CAA6C,uMAAuM,OAAO,6CAA6C;AAC74W","file":"assets/js/243.4bf78f12.js","sourcesContent":["import { render, staticRenderFns } from \"./tip58.md?vue&type=template&id=b66d4b9a&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/@vuepress/core/node_modules/.cache/vuepress\\\",\\\"cacheIdentifier\\\":\\\"671ceca3-vue-loader-template\\\"}!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??ref--1-1!../node_modules/@vuepress/markdown-loader/index.js??ref--1-2!./tip58.md?vue&type=template&id=b66d4b9a&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ContentSlotsDistributor',{attrs:{\"slot-key\":_vm.$parent.slotKey}},[_c('div',{staticClass:\"custom-block tip\"},[_c('p',{staticClass:\"custom-block-title\"},[_vm._v(\"TIP\")]),_vm._v(\" \"),_c('p',[_vm._v(\"ðŸ’¡ Learn more : \"),_c('a',{attrs:{\"href\":\"https://docs.microsoft.com/azure/containers/?WT.mc_id=docs-azuredevtips-azureappsdev\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Azure for Containers\"),_c('OutboundLink')],1),_vm._v(\".\")])]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"continuous-deployment-with-docker-and-web-app-for-containers\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#continuous-deployment-with-docker-and-web-app-for-containers\"}},[_vm._v(\"#\")]),_vm._v(\" Continuous Deployment with Docker and Web App for Containers\")]),_vm._v(\" \"),_c('p',[_vm._v(\"To recap, \"),_c('RouterLink',{attrs:{\"to\":\"/blog/tip55.html\"}},[_vm._v(\"in Tip 55 - Docker Compose\")]),_vm._v(\" to create an image using our existing \"),_c('RouterLink',{attrs:{\"to\":\"/blog/tip54.html\"}},[_vm._v(\"ASP.NET WebAPI project\")]),_vm._v(\" and push it to Docker Cloud. I also covered deploying it to Azure using \"),_c('RouterLink',{attrs:{\"to\":\"/blog/tip56.html\"}},[_vm._v(\"Web App for Containers\")]),_vm._v(\". I also explained the difference between \"),_c('RouterLink',{attrs:{\"to\":\"/blog/tip57.html\"}},[_vm._v(\"Docker Registry and Docker Repository in Tip 57\")]),_vm._v(\" and this tip, I'll cover setting up Continuous Deployment with Docker and Web App for Containers.\")],1),_vm._v(\" \"),_c('p',[_vm._v(\"Navigate back to the Web App for Container service \"),_c('RouterLink',{attrs:{\"to\":\"/blog/tip56.html\"}},[_vm._v(\"we recently created\")]),_vm._v(\". Look under \"),_c('strong',[_vm._v(\"Settings\")]),_vm._v(\" and click on \"),_c('strong',[_vm._v(\"Docker Container\")]),_vm._v(\". You'll see \"),_c('strong',[_vm._v(\"Continuous Deployment\")]),_vm._v(\" and will need to switch it on and then \"),_c('strong',[_vm._v(\"Show the URL\")]),_vm._v(\" and copy and paste it into somewhere else. Go ahead and press \"),_c('strong',[_vm._v(\"save\")]),_vm._v(\".\")],1),_vm._v(\" \"),_c('img',{attrs:{\"src\":_vm.$withBase('/files/dockercd1.png')}}),_vm._v(\" \"),_c('p',[_c('strong',[_vm._v(\"Note\")]),_vm._v(\" If you want to verify CD is setup correctly, go to your \"),_c('strong',[_vm._v(\"Application Settings\")]),_vm._v(\" and under \"),_c('strong',[_vm._v(\"App Settings\")]),_vm._v(\", you'll see \"),_c('code',[_vm._v(\"DOCKER_ENABLE_CI\")]),_vm._v(\" has been set to true.\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Navigate back over to \"),_c('a',{attrs:{\"href\":\"https://hub.docker.com/r/mbcrump/mbcwebapi/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Docker Hub\"),_c('OutboundLink')],1),_vm._v(\" and navigate to your repository. You'll see \"),_c('strong',[_vm._v(\"Web Hooks\")]),_vm._v(\" and want to add the URL that you copied earlier.\")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":_vm.$withBase('/files/dockercd2.png')}}),_vm._v(\" \"),_c('p',[_vm._v(\"Now head back to the terminal or command prompt and make a change to your application. I'm going to go into my \"),_c('code',[_vm._v(\"ValuesController.cs\")]),_vm._v(\" application and modify what returns from the \"),_c('code',[_vm._v(\"api\\\\values\")]),_vm._v(\" to \"),_c('code',[_vm._v(\"\\\"myupdatedvalue1\\\", \\\"myupdatedvalue2\\\"\")]),_vm._v(\" instead of \"),_c('code',[_vm._v(\"\\\"value1\\\", \\\"value2\\\"\")])]),_vm._v(\" \"),_c('div',{staticClass:\"language-csharp line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-csharp\"}},[_c('code',[_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// GET api/values\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"[\")]),_vm._v(\"HttpGet\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"]\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"public\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token return-type class-name\"}},[_vm._v(\"IEnumerable\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"<\")]),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"string\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"Get\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n            \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"return\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"new\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token constructor-invocation class-name\"}},[_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"string\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"[\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"]\")])]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"myupdatedvalue1\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"myupdatedvalue2\\\"\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"4\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"5\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"6\")]),_c('br')])]),_c('p',[_vm._v(\"I'm going to run the \"),_c('code',[_vm._v(\"publish -c Release -o ./obj/Docker/publish\")]),_vm._v(\" command to create the new .dlls for the site.\")]),_vm._v(\" \"),_c('div',{staticClass:\"language- line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-text\"}},[_c('code',[_vm._v(\"Michaels-MacBook-Pro:mbcwebapi mbcrump$ cd mbcwebapi\\nMichaels-MacBook-Pro:mbcwebapi mbcrump$ dotnet publish -c Release -o ./obj/Docker/publish\\nMicrosoft (R) Build Engine version 15.3.409.57025 for .NET Core\\nCopyright (C) Microsoft Corporation. All rights reserved.\\n\\n  mbcwebapi -> /Users/mbcrump/mbcwebapi/mbcwebapi/bin/Release/netcoreapp2.0/mbcwebapi.dll\\n  mbcwebapi -> /Users/mbcrump/mbcwebapi/mbcwebapi/obj/Docker/publish/\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"4\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"5\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"6\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"7\")]),_c('br')])]),_c('p',[_vm._v(\"Now I'll run \"),_c('code',[_vm._v(\"docker-compose build\")]),_vm._v(\" to rebuild my \"),_c('strong',[_vm._v(\"latest\")]),_vm._v(\" image.\")]),_vm._v(\" \"),_c('div',{staticClass:\"language- line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-text\"}},[_c('code',[_vm._v(\"Michaels-MacBook-Pro:mbcwebapi mbcrump$ docker-compose build\\nBuilding mbcwebapi\\nStep 1/6 : FROM microsoft/aspnetcore:2.0\\n ---> 757f574feed9\\nStep 2/6 : ARG source\\n ---> Using cache\\n ---> 96deb3aec068\\nStep 3/6 : WORKDIR /app\\n ---> Using cache\\n ---> c0fecb757aa4\\nStep 4/6 : EXPOSE 80\\n ---> Using cache\\n ---> e4f034c54397\\nStep 5/6 : COPY ${source:-obj/Docker/publish} .\\n ---> 99956ad310ad\\nStep 6/6 : ENTRYPOINT dotnet mbcwebapi.dll\\n ---> Running in d852ec609fa3\\n ---> 84120db3271e\\nRemoving intermediate container d852ec609fa3\\nSuccessfully built 84120db3271e\\nSuccessfully tagged mbcrump/mbcwebapi:latest\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"4\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"5\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"6\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"7\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"8\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"9\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"10\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"11\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"12\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"13\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"14\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"15\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"16\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"17\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"18\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"19\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"20\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"21\")]),_c('br')])]),_c('p',[_vm._v(\"I'll now push this image to Docker Cloud with \"),_c('code',[_vm._v(\"docker push mbcrump/mbcwebapi:latest\")])]),_vm._v(\" \"),_c('div',{staticClass:\"language- line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-text\"}},[_c('code',[_vm._v(\"Michaels-MacBook-Pro:mbcwebapi mbcrump$ docker push mbcrump/mbcwebapi:latest\\nThe push refers to a repository [docker.io/mbcrump/mbcwebapi]\\nbb538a44e79e: Pushed \\n2810d33d0bd6: Layer already exists \\neff6ab78003d: Layer already exists \\n8b2ae5b337fe: Layer already exists \\n587f57f69c02: Layer already exists \\n5c4bb5b2f630: Layer already exists \\na75caa09eb1f: Layer already exists \\nlatest: digest: sha256:d441ddbc8854b63529e7e99e5731a7497dd5c14665a9bfc5cb006827018cb518 size: 1790\\nMichaels-MacBook-Pro:mbcwebapi mbcrump$ \\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"4\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"5\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"6\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"7\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"8\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"9\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"10\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"11\")]),_c('br')])]),_c('p',[_vm._v(\"If I switch back over to Docker Hub, then I show \"),_c('strong',[_vm._v(\"History\")]),_vm._v(\" and see it has automatically deployed my latest build.\")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":_vm.$withBase('/files/dockercd3.png')}}),_vm._v(\" \"),_c('p',[_vm._v(\"If I go back to my site and enter my url and append \"),_c('code',[_vm._v(\"/api/values\")]),_vm._v(\", then I'll see the updated values. Success!\")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":_vm.$withBase('/files/dockercd4.png')}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"sourceRoot":""}