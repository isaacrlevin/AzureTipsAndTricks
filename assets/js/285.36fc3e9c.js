(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[285],{

/***/ "./blog/tip97.md":
/*!***********************!*\
  !*** ./blog/tip97.md ***!
  \***********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _tip97_md_vue_type_template_id_6392f1de___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tip97.md?vue&type=template&id=6392f1de& */ "./blog/tip97.md?vue&type=template&id=6392f1de&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");

var script = {}


/* normalize component */

var component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_1__["default"])(
  script,
  _tip97_md_vue_type_template_id_6392f1de___WEBPACK_IMPORTED_MODULE_0__["render"],
  _tip97_md_vue_type_template_id_6392f1de___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null
  
)

/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ "./blog/tip97.md?vue&type=template&id=6392f1de&":
/*!******************************************************!*\
  !*** ./blog/tip97.md?vue&type=template&id=6392f1de& ***!
  \******************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_vuepress_core_node_modules_cache_vuepress_cacheIdentifier_671ceca3_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_ref_1_1_node_modules_vuepress_markdown_loader_index_js_ref_1_2_tip97_md_vue_type_template_id_6392f1de___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/@vuepress/core/node_modules/.cache/vuepress","cacheIdentifier":"671ceca3-vue-loader-template"}!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib??ref--1-1!../node_modules/@vuepress/markdown-loader??ref--1-2!./tip97.md?vue&type=template&id=6392f1de& */ "./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/@vuepress/core/node_modules/.cache/vuepress\",\"cacheIdentifier\":\"671ceca3-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/@vuepress/markdown-loader/index.js?!./blog/tip97.md?vue&type=template&id=6392f1de&");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_vuepress_core_node_modules_cache_vuepress_cacheIdentifier_671ceca3_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_ref_1_1_node_modules_vuepress_markdown_loader_index_js_ref_1_2_tip97_md_vue_type_template_id_6392f1de___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_vuepress_core_node_modules_cache_vuepress_cacheIdentifier_671ceca3_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_ref_1_1_node_modules_vuepress_markdown_loader_index_js_ref_1_2_tip97_md_vue_type_template_id_6392f1de___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });



/***/ }),

/***/ "./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/@vuepress/core/node_modules/.cache/vuepress\",\"cacheIdentifier\":\"671ceca3-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/@vuepress/markdown-loader/index.js?!./blog/tip97.md?vue&type=template&id=6392f1de&":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/@vuepress/core/node_modules/.cache/vuepress","cacheIdentifier":"671ceca3-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??ref--1-1!./node_modules/@vuepress/markdown-loader??ref--1-2!./blog/tip97.md?vue&type=template&id=6392f1de& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ContentSlotsDistributor',{attrs:{"slot-key":_vm.$parent.slotKey}},[_c('div',{staticClass:"custom-block tip"},[_c('p',{staticClass:"custom-block-title"},[_vm._v("TIP")]),_vm._v(" "),_c('p',[_vm._v("ðŸ’¡ Learn more : "),_c('a',{attrs:{"href":"https://docs.microsoft.com/azure/azure-functions/?WT.mc_id=docs-azuredevtips-azureappsdev","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Azure Functions Documentation"),_c('OutboundLink')],1),_vm._v(".")])]),_vm._v(" "),_c('h3',{attrs:{"id":"generate-a-weekly-digest-email-for-a-blog-using-azure-functions-sendgrid-and-azure-storage"}},[_c('a',{staticClass:"header-anchor",attrs:{"href":"#generate-a-weekly-digest-email-for-a-blog-using-azure-functions-sendgrid-and-azure-storage"}},[_vm._v("#")]),_vm._v(" Generate a Weekly Digest Email for a Blog using Azure Functions, SendGrid and Azure Storage")]),_vm._v(" "),_c('h4',{attrs:{"id":"where-are-we"}},[_c('a',{staticClass:"header-anchor",attrs:{"href":"#where-are-we"}},[_vm._v("#")]),_vm._v(" Where are we?")]),_vm._v(" "),_c('p',[_c('strong',[_vm._v("Full Source Code")]),_vm._v(" The source code for the app can be found on "),_c('a',{attrs:{"href":"https://github.com/mbcrump/EmailSubscription","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("GitHub"),_c('OutboundLink')],1)]),_vm._v(" "),_c('p',[_vm._v("This blog post is part of a series on how to generate a weekly digest email for a blog using Azure Functions, SendGrid and Azure Storage.")]),_vm._v(" "),_c('ul',[_c('li',[_c('a',{attrs:{"href":"https://microsoft.github.io/AzureTipsAndTricks/blog/tip97.html","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Part 1 - What we're going to build and how to build it"),_c('OutboundLink')],1)]),_vm._v(" "),_c('li',[_c('a',{attrs:{"href":"https://microsoft.github.io/AzureTipsAndTricks/blog/tip98.html","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Part 2 - Storing Emails using Azure Table Storage"),_c('OutboundLink')],1)]),_vm._v(" "),_c('li',[_c('a',{attrs:{"href":"https://microsoft.github.io/AzureTipsAndTricks/blog/tip99.html","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Part 3 - Writing the Frontend with HTML5 and jQuery"),_c('OutboundLink')],1)]),_vm._v(" "),_c('li',[_c('a',{attrs:{"href":"https://microsoft.github.io/AzureTipsAndTricks/blog/tip100.html","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("Part 4 - Sending Emails with Sendgrid and Azure Functions"),_c('OutboundLink')],1)])]),_vm._v(" "),_c('h4',{attrs:{"id":"the-problem"}},[_c('a',{staticClass:"header-anchor",attrs:{"href":"#the-problem"}},[_vm._v("#")]),_vm._v(" The Problem")]),_vm._v(" "),_c('p',[_vm._v("While reading a blog post, one of these popped up:")]),_vm._v(" "),_c('img',{attrs:{"src":_vm.$withBase('/files/emailsub1.png')}}),_vm._v(" "),_c('p',[_vm._v("We've all seen then before, and I must admit that I've never really looked into it before I started writing "),_c('a',{attrs:{"href":"https://michaelcrump.net/azure-tips-and-tricks-complete-list/","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("this Azure Tips and Tricks series"),_c('OutboundLink')],1),_vm._v(".")]),_vm._v(" "),_c('p',[_vm._v("We're all crazy busy, so it seems to be a good idea, for someone to give you an email address and be notified of new posts. OK, so I wanted to do it, and started looking into sites that offer this. After looking around, I kept finding this:")]),_vm._v(" "),_c('img',{attrs:{"src":_vm.$withBase('/files/emailsub2.png')}}),_vm._v(" "),_c('p',[_vm._v("Most companies offer you a certain number of subscribers for free, then you'll quickly get to a paid version once you go over that number.")]),_vm._v(" "),_c('p',[_vm._v("Since I like to save a penny now and again and am aware that I have more subscribers that the free account offers (200), I decided to roll my own. But what would I need?")]),_vm._v(" "),_c('h4',{attrs:{"id":"my-requirements-to-roll-my-own"}},[_c('a',{staticClass:"header-anchor",attrs:{"href":"#my-requirements-to-roll-my-own"}},[_vm._v("#")]),_vm._v(" My Requirements to roll my own")]),_vm._v(" "),_c('p',[_vm._v("My requirements for my version of creating an email subscription is the following:")]),_vm._v(" "),_c('ul',[_c('li',[_vm._v("A way to email folks for free or really, really cheap.")]),_vm._v(" "),_c('li',[_vm._v("Storage to save the email address and a way to indicate if they want to unsubscribe.")]),_vm._v(" "),_c('li',[_vm._v("A web page that folks can fill out that can make a POST call.")]),_vm._v(" "),_c('li',[_vm._v("Code running in the cloud (1) on a schedule and (2) perform actions based on a POST request.")]),_vm._v(" "),_c('li',[_vm._v("Visual Studio and C# as I'm well versed in them.")])]),_vm._v(" "),_c('h4',{attrs:{"id":"my-stack"}},[_c('a',{staticClass:"header-anchor",attrs:{"href":"#my-stack"}},[_vm._v("#")]),_vm._v(" My Stack")]),_vm._v(" "),_c('p',[_vm._v("After poking around for a bit, I landed on the following:")]),_vm._v(" "),_c('ul',[_c('li',[_vm._v("SendGrid will handle email (25K emails free monthly)")]),_vm._v(" "),_c('li',[_vm._v("Azure Storage Tables to save the email address and subscription status (this gives me an unlimited number of subscribers).")]),_vm._v(" "),_c('li',[_vm._v("Timer Trigger with Azure Functions to run on a schedule to send emails. (Runs weekly and retrieves my last 7 days worth of blog posts)")]),_vm._v(" "),_c('li',[_vm._v("HTTP Trigger with Azure Functions to collect POST data coming from my website that contains the email address and subscription status that someone types in.")]),_vm._v(" "),_c('li',[_vm._v("Azure Functions supports Visual Studio tooling and the full .NET Framework. (in case, I want to use something outside of .NET Core)")])]),_vm._v(" "),_c('h4',{attrs:{"id":"creating-a-sendgrid-account"}},[_c('a',{staticClass:"header-anchor",attrs:{"href":"#creating-a-sendgrid-account"}},[_vm._v("#")]),_vm._v(" Creating a SendGrid account")]),_vm._v(" "),_c('p',[_vm._v("Go to the "),_c('strong',[_vm._v("Azure Portal")]),_vm._v(" and search services for "),_c('strong',[_vm._v("SendGrid")]),_vm._v(" and create an account as shown below. You'll notice that I used the "),_c('strong',[_vm._v("Free")]),_vm._v(" account as it is good enough for what I was trying to accomplish.")]),_vm._v(" "),_c('img',{attrs:{"src":_vm.$withBase('/files/sendgrid1.png')}}),_vm._v(" "),_c('p',[_vm._v("Go to your SendGrid account once provisioned and click on "),_c('strong',[_vm._v("Manage")]),_vm._v(" and it will bring you to "),_c('a',{attrs:{"href":"https://app.sendgrid.com/","target":"_blank","rel":"noopener noreferrer"}},[_vm._v("https://app.sendgrid.com/"),_c('OutboundLink')],1),_vm._v(". From the SendGrid portal, you are going to want to grab your API key. You can find it under "),_c('strong',[_vm._v("Settings")]),_vm._v(", then "),_c('strong',[_vm._v("API Keys")]),_vm._v(". Give your API Key a name and then give it "),_c('strong',[_vm._v("Full Access")]),_vm._v(" and click "),_c('strong',[_vm._v("Create and View")]),_vm._v(". Now that you have your API Key, save it somewhere safe.")]),_vm._v(" "),_c('h4',{attrs:{"id":"creating-an-azure-storage-table"}},[_c('a',{staticClass:"header-anchor",attrs:{"href":"#creating-an-azure-storage-table"}},[_vm._v("#")]),_vm._v(" Creating an Azure Storage Table")]),_vm._v(" "),_c('p',[_vm._v("Go back to the Azure Portal and click "),_c('strong',[_vm._v("Create a Resource")]),_vm._v(" and select "),_c('strong',[_vm._v("Azure Storage")]),_vm._v(". We'll keep it simple as shown below to get started.")]),_vm._v(" "),_c('img',{attrs:{"src":_vm.$withBase('/files/storageacct1.png')}}),_vm._v(" "),_c('p',[_vm._v("Once complete, go into the resource and look under "),_c('strong',[_vm._v("Services")]),_vm._v(".")]),_vm._v(" "),_c('img',{attrs:{"src":_vm.$withBase('/files/storageacct2.png')}}),_vm._v(" "),_c('p',[_vm._v("Go ahead and click on "),_c('strong',[_vm._v("Tables")]),_vm._v(" and you could create a new table through the portal as shown below.")]),_vm._v(" "),_c('img',{attrs:{"src":_vm.$withBase('/files/aztablesblog1.png')}}),_vm._v(" "),_c('p',[_vm._v("Go ahead and give the table a name that you'll remember and look under "),_c('strong',[_vm._v("Settings")]),_vm._v(", then "),_c('strong',[_vm._v("Access Keys")]),_vm._v(" and copy the connection string as we'll use that shortly.")]),_vm._v(" "),_c('img',{attrs:{"src":_vm.$withBase('/files/storagethroughcsharp1.png')}}),_vm._v(" "),_c('p',[_vm._v("Now that we have our "),_c('strong',[_vm._v("SendGrid")]),_vm._v(" account and our "),_c('strong',[_vm._v("Azure Storage Table")]),_vm._v(" created. We can proceed.")]),_vm._v(" "),_c('h4',{attrs:{"id":"open-visual-studio"}},[_c('a',{staticClass:"header-anchor",attrs:{"href":"#open-visual-studio"}},[_vm._v("#")]),_vm._v(" Open Visual Studio")]),_vm._v(" "),_c('p',[_vm._v("Create a C# Azure Function application by opening Visual Studio and selecting the template under the "),_c('strong',[_vm._v("Cloud")]),_vm._v(" node as shown below:")]),_vm._v(" "),_c('img',{attrs:{"src":_vm.$withBase('/files/emailsub3.png')}}),_vm._v(" "),_c('p',[_vm._v("Under Storage, change the default emulator to the "),_c('strong',[_vm._v("Azure Storage Account")]),_vm._v(" that we created earlier:")]),_vm._v(" "),_c('img',{attrs:{"src":_vm.$withBase('/files/emailsub4.png')}}),_vm._v(" "),_c('p',[_vm._v("We'll begin by using the "),_c('strong',[_vm._v("Timer Trigger")]),_vm._v(" and leaving everything as the defaults.")]),_vm._v(" "),_c('img',{attrs:{"src":_vm.$withBase('/files/emailsub5.png')}}),_vm._v(" "),_c('p',[_vm._v("Once the project spins up, we'll use NuGet to pull in references to :")]),_vm._v(" "),_c('ul',[_c('li',[_vm._v("WindowsAzure.Storage "),_c('code',[_vm._v("To work with Azure Table Storage.")])]),_vm._v(" "),_c('li',[_vm._v("Microsoft.WindowsAzure.ConfigurationManager "),_c('code',[_vm._v("To hide our API keys")])]),_vm._v(" "),_c('li',[_vm._v("Sendgrid "),_c('code',[_vm._v("To send our emails")])]),_vm._v(" "),_c('li',[_vm._v("System.ServiceModel.Syndication "),_c('code',[_vm._v("To work with RSS feeds - use prerelease packages to find it")])])])])}
var staticRenderFns = []



/***/ })

}]);
//# sourceMappingURL=285.36fc3e9c.js.map