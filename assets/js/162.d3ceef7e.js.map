{"version":3,"sources":["webpack:///./blog/tip242.md","webpack:///./blog/tip242.md?88bb","webpack:///./blog/tip242.md?82fe"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAoF;AACpF;;;AAGA;AACuF;AACvF,gBAAgB,2GAAU;AAC1B;AACA,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,gF;;;;;;;;;;;;ACjBf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA,0BAA0B,aAAa,0BAA0B,wBAAwB,qCAAqC,OAAO,gCAAgC,YAAY,+BAA+B,UAAU,iCAAiC,0EAA0E,OAAO,sHAAsH,mKAAmK,OAAO,wLAAwL,6JAA6J,OAAO,2FAA2F,wFAAwF,OAAO,yCAAyC,UAAU,mCAAmC,4CAA4C,wKAAwK,OAAO,6KAA6K,yUAAyU,OAAO,iBAAiB,UAAU,mCAAmC,oBAAoB,mvBAAmvB,OAAO,iIAAiI,s7CAAs7C,OAAO,mBAAmB,UAAU,mCAAmC,sBAAsB,sFAAsF,OAAO,wLAAwL,8GAA8G,OAAO,0LAA0L;AACp9J","file":"assets/js/162.d3ceef7e.js","sourcesContent":["import { render, staticRenderFns } from \"./tip242.md?vue&type=template&id=556e9c03&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/@vuepress/core/node_modules/.cache/vuepress\\\",\\\"cacheIdentifier\\\":\\\"671ceca3-vue-loader-template\\\"}!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??ref--1-1!../node_modules/@vuepress/markdown-loader/index.js??ref--1-2!./tip242.md?vue&type=template&id=556e9c03&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ContentSlotsDistributor',{attrs:{\"slot-key\":_vm.$parent.slotKey}},[_c('div',{staticClass:\"custom-block tip\"},[_c('p',{staticClass:\"custom-block-title\"},[_vm._v(\"TIP\")]),_vm._v(\" \"),_c('p',[_vm._v(\"ðŸ”¥ Make sure you \"),_c('a',{attrs:{\"href\":\"http://azuredev.tips?WT.mc_id=azure-azuredevtips-azureappsdev\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"star the repo\"),_c('OutboundLink')],1),_vm._v(\" to keep up to date with new tips and tricks.\")]),_vm._v(\" \"),_c('p',[_vm._v(\"ðŸ’¡ Learn more :  \"),_c('a',{attrs:{\"href\":\"https://docs.microsoft.com/en-us/azure/virtual-network/what-is-ip-address-168-63-129-16?WT.mc_id=docs-azuredevtips-azureappsdev\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"What is IP address 168.63.129.16?\"),_c('OutboundLink')],1)])]),_vm._v(\" \"),_c('p',[_vm._v(\"This post was brought to you by \"),_c('strong',[_c('a',{attrs:{\"href\":\"https://twitter.com/kumarallamraju\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Kumar Allamraju\"),_c('OutboundLink')],1)]),_vm._v(\".\")]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"what-is-ip-address-168-63-129-16\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#what-is-ip-address-168-63-129-16\"}},[_vm._v(\"#\")]),_vm._v(\" What is IP address 168.63.129.16?\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Recently I was engaged to help on customer's issue in which their \"),_c('a',{attrs:{\"href\":\"https://docs.microsoft.com/en-us/azure/load-balancer/load-balancer-overview/?WT.mc_id=docs-azuredevtips-azureappsdev\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Azure Network Load Balancer\"),_c('OutboundLink')],1),_vm._v(\" is unable to reach their backend instances because the load balancer declared them as  unhealthy. However they can directly reach the backend instances and able to execute the application but unable to reach the same via Azure NLB.\")]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"analysis\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#analysis\"}},[_vm._v(\"#\")]),_vm._v(\" Analysis\")]),_vm._v(\" \"),_c('p',[_vm._v(\"The first thing I did was to check their load balancer's health probes. However they are using \\\"Basic Load Balancer\\\" and the health probes are only available in the standard tier. I end up working with my Cloud Ops/Support team to see what's going on for this customer's load balancer. Further investigation revealed that customer's Network Security Group (NSG), with a rule named â€˜defaultdenyinboundâ€™ is not accepting any traffic other than their VNet IP's. Due to this rule, NLB was unable to send probes to backend instances. I recommended the customer to make the following changes\")]),_vm._v(\" \"),_c('ol',[_c('li',[_c('p',[_vm._v(\"Open the Azure portal and browse to the \"),_c('a',{attrs:{\"href\":\"https://docs.microsoft.com/en-us/azure/virtual-network/security-overview\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Network Security Group\"),_c('OutboundLink')],1),_vm._v(\" blade assigned to your Network Load Balancer\")])]),_vm._v(\" \"),_c('li',[_c('p',[_vm._v(\"Add an Allow rule for IP address 168.63.129.16 that has a lower number (higher priority) than the Block rule\")])]),_vm._v(\" \"),_c('li',[_c('p',[_vm._v(\"Save changes and check the Health Probe Status by going to Load Balancer Monitoring blade to view the backend pool health\")])])]),_vm._v(\" \"),_c('p',[_vm._v(\"The public IP address 168.63.129.16 is used in all Azure public regions and all national clouds. This special public IP address is owned by Microsoft and will not change. It is allowed by the default network security group rule. We recommend that you allow this IP address in any local firewall policies in both inbound and outbound directions. The communication between this special IP address and the resources is safe because only the internal Azure platform can source a message from this IP address. If this address is blocked, unexpected behavior can occur in a variety of scenarios.\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Azure Load Balancer probes  originates from this IP address. If customer's block this IP address, their probes will fail leading to the above situation. The customer is convinced with the above explanation. After allowing this IP in their local firewall policies, they are able to reach the backend instances via Azure NLB and the problem is solved.\")]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"references\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#references\"}},[_vm._v(\"#\")]),_vm._v(\" References\")]),_vm._v(\" \"),_c('ul',[_c('li',[_c('p',[_c('a',{attrs:{\"href\":\"https://docs.microsoft.com/en-us/azure/virtual-network/what-is-ip-address-168-63-129-16?WT.mc_id=docs-azuredevtips-azureappsdev\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"What is IP address 168.63.129.16?\"),_c('OutboundLink')],1)])]),_vm._v(\" \"),_c('li',[_c('p',[_c('a',{attrs:{\"href\":\"https://docs.microsoft.com/en-us/azure/load-balancer/load-balancer-custom-probe-overview/?WT.mc_id=docs-azuredevtips-azureappsdev\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Azure Load Balancer health probes \"),_c('OutboundLink')],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"sourceRoot":""}